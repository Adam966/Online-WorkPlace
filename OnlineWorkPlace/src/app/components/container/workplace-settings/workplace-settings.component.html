<div class="settings-container">
  <!------------  Workplace label settings ------------>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Workplace label settings
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="label-container">
      <div class="label-content" *ngFor="let label of labels$ | async">
        <app-color-label
          [label]="label">
        </app-color-label>
        <span>{{ label.name }}</span>
        <mat-icon matTooltip="Delete label" (click)="deleteLabel(label)">delete</mat-icon>
      </div>
    </div>
  </mat-expansion-panel>
  <!------------  Workplace users settings ------------>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Workplace users settings
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="label-container">
      <div class="label-content" *ngFor="let user of users$ | async">
        <app-user-label
          [user]="user">
        </app-user-label>
        <div>
          <span>{{ user.userName }}</span>
          <span>&nbsp;</span>
          <span>{{ user.userSurname }}</span>
        </div>
        <button mat-icon-button matTooltip="Delete user" (click)="deleteUser(user)" [disabled]="!(userRights$ | async).removeFromWorkplace">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </mat-expansion-panel>
  <!------------  Workplace notifications settings ------------>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Workplace notifications settings
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="column-container">
      <mat-checkbox color="primary" [checked]="(notificationsRights$ | async).sentMessage">receipt of the message</mat-checkbox>
      <mat-checkbox color="primary" [checked]="(notificationsRights$ | async).addedToElement">added to element</mat-checkbox>
      <mat-checkbox color="primary" [checked]="(notificationsRights$ | async).dueDate">due date</mat-checkbox>
      <mat-checkbox color="primary" [checked]="(notificationsRights$ | async).removedFromElement">removed from element</mat-checkbox>
    </div>
  </mat-expansion-panel>
  <!------------  Workplace rights settings ------------>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Workplace rights settings
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="user-rights-container">
      <div class="user-rights-content" *ngFor="let user of users$ | async">
        <div class="user-rights-label">
          <app-user-label
            [user]="user">
          </app-user-label>
          <span>{{ user.userName }}</span>
          <span>&nbsp;</span>
          <span>{{ user.userSurname }}</span>
        </div>
        <mat-checkbox color="primary" [checked]="(userRights$ | async).addToWorkplace" [disabled]="!(userRights$ | async).changeRights">add user</mat-checkbox>
        <mat-checkbox color="primary" [checked]="(userRights$ | async).removeFromWorkplace" [disabled]="!(userRights$ | async).changeRights">delete user</mat-checkbox>
        <mat-checkbox color="primary" [checked]="(userRights$ | async).archiveElement" [disabled]="!(userRights$ | async).changeRights">archive element</mat-checkbox>
        <mat-checkbox color="primary" [checked]="(userRights$ | async).changeRights" [disabled]="!(userRights$ | async).changeRights">change rights</mat-checkbox>
      </div>
    </div>
  </mat-expansion-panel>
</div>
